(this.webpackJsonpdataset_web=this.webpackJsonpdataset_web||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},154:function(e,t){},156:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(11),i=n.n(r),s=(n(116),n(117),n(32)),o=n(184),u=n(210),d=n(102),l=n(197),h=n(198),j=n(209),b=60,p=n(34),f=n(9),x=n(207),v=n(188),O=n(211),m=n(190),g=n(191),w=n(21),y=n(2),k=c.a.createContext({});function C(e){var t=e.children,n=e.apps,a=Object(f.g)(),r=c.a.useState(void 0),i=Object(w.a)(r,2),s=i[0],o=i[1],u=c.a.useState(),d=Object(w.a)(u,2),l=d[0],h=d[1],j=c.a.useState(!1),b=Object(w.a)(j,2),p=b[0],x=b[1],v=c.a.useState([]),O=Object(w.a)(v,2),m=O[0],g=O[1];return c.a.useEffect((function(){var e=n.find((function(e){return null!==Object(f.e)(a.pathname,{path:e.getDetailPath().desktop,exact:!0})}));o(e)}),[a]),Object(y.jsx)(k.Provider,{value:{selectedApp:s,isLoading:p,setIsLoading:x,anchorEl:l,setAnchorEl:h,searchResults:m,setResults:g},children:t})}var L=Object(o.a)((function(e){return Object(u.a)({drawer:{width:b,flexShrink:0},drawerPaper:{width:b}})}));function I(e){Object(f.g)();var t=Object(f.f)(),n=L(),a=e.apps,r=c.a.useContext(k).selectedApp;return Object(y.jsx)(x.a,{variant:"permanent",className:n.drawer,classes:{paper:n.drawerPaper},children:Object(y.jsx)(v.a,{children:a.map((function(e,n){return Object(y.jsx)(O.a,{title:e.getTitle(),children:Object(y.jsx)(m.a,{button:!0,selected:r===e,onClick:function(){t.push(e.getPath())},children:Object(y.jsx)(g.a,{children:e.getIcon()})})},e.getTitle())}))})})}var N=n(96),S=n.n(N),R=n(12),D=n.n(R),E=n(19),P=n(189),A=n(106),U=n(194),M=n(195),z=n(208),F=n(192),T=n(193),Y=n(39),K=n(20),B=n(95),G=n.n(B),J=n(94),_=n.n(J),H=Object(o.a)((function(e){return Object(u.a)({appBar:Object(s.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(b,"px)"),marginLeft:b}),title:Object(s.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(s.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(K.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(K.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(s.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"28ch","&:focus":{width:"34ch"}}),popper:{width:"50ch",maxHeight:400,overflow:"auto",zIndex:1e4,padding:20,position:"absolute",top:10,right:-160}})}));function W(){var e,t=H(),n=Object(f.g)(),a=Object(f.f)(),r=c.a.useContext(k),i=r.selectedApp,s=r.anchorEl,o=r.searchResults,u=(r.setResults,c.a.useState(!0)),d=Object(w.a)(u,2),l=d[0],h=d[1],j=function(){var e=n.pathname;if(void 0!==i){var t=null===Object(f.e)(i.getPath(),{path:e,exact:!0});h(!!t)}};return c.a.useEffect((function(){j()}),[]),c.a.useEffect((function(){j()}),[n]),Object(y.jsxs)("div",{children:[Object(y.jsx)(P.a,{open:void 0!==s,anchorEl:s,style:{zIndex:2e3},children:Object(y.jsx)(A.a,{className:t.popper,variant:"outlined",children:Object(y.jsx)(v.a,{children:o.length>0?o.map((function(e,t){return null===i||void 0===i?void 0:i.renderSearchItem(e)})):Object(y.jsx)("div",{children:"No Results"})})})}),Object(y.jsx)(F.a,{className:t.appBar,children:Object(y.jsxs)(T.a,{children:[l&&Object(y.jsx)(U.a,{onClick:function(){i&&a.push(i.getPath())},children:Object(y.jsx)(_.a,{})}),Object(y.jsx)(Y.a,{className:t.title,variant:"h6",noWrap:!0,children:null!==(e=null===i||void 0===i?void 0:i.getTitle())&&void 0!==e?e:"Dataset App"}),i&&Object(y.jsx)(q,{})]})})]})}function q(){var e=H(),t=c.a.useState(""),n=Object(w.a)(t,2),a=n[0],r=n[1],i=c.a.useContext(k),s=i.selectedApp,o=i.setAnchorEl,u=(i.anchorEl,i.searchResults,i.setResults);return Object(y.jsx)(M.a,{onClickAway:function(){return o(void 0)},children:Object(y.jsxs)("div",{className:e.search,children:[Object(y.jsx)("div",{className:e.searchIcon,children:Object(y.jsx)(G.a,{})}),Object(y.jsx)(z.a,{placeholder:"Search for ".concat(null===s||void 0===s?void 0:s.getTitle()),classes:{root:e.inputRoot,input:e.inputInput},value:a,onChange:function(e){return r(e.target.value)},inputProps:{"aria-label":"search"},onClick:function(e){return o(e.currentTarget)},onKeyDown:function(){var e=Object(E.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=9;break}if(0!==a.length){e.next=5;break}u([]),e.next=9;break;case 5:return e.next=7,null===s||void 0===s?void 0:s.search(a);case 7:(n=e.sent)&&u(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})})}var Q=n(187),V=n(196),X=Object(o.a)((function(e){return Object(u.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})}));function Z(e){var t=X(),n=c.a.useContext(k).isLoading;return Object(y.jsx)(Q.a,{open:n,className:t.backdrop,children:Object(y.jsx)(V.a,{})})}var $=Object(o.a)((function(e){var t;return Object(u.a)({content:(t={},Object(s.a)(t,e.breakpoints.up("md"),{marginLeft:b,padding:e.spacing(3)}),Object(s.a)(t,"marginTop",50),Object(s.a)(t,"flexGrow",1),Object(s.a)(t,"overflowY","hidden"),t),toolbar:e.mixins.toolbar,backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})})),ee=Object(d.a)({palette:{type:"light",primary:S.a}});function te(e){var t=e.apps,n=$(),a=["xs","sm"],c=["md","lg","xl"];return Object(y.jsx)("div",{style:{overflowY:"hidden"},children:Object(y.jsxs)(l.a,{theme:ee,children:[Object(y.jsx)(h.a,{}),Object(y.jsx)(p.a,{children:Object(y.jsx)(C,{apps:t,children:Object(y.jsxs)("div",{children:[Object(y.jsx)(W,{}),Object(y.jsx)(Z,{}),Object(y.jsx)(j.a,{only:a,implementation:"css",children:Object(y.jsx)(I,{apps:t})}),Object(y.jsx)("div",{className:n.content,children:Object(y.jsx)(f.c,{children:t.map((function(e,t){return e.getAppProvider({children:Object(y.jsxs)("div",{children:[Object(y.jsx)(j.a,{only:a,implementation:"css",children:Object(y.jsx)(f.a,{path:e.getDetailPath().desktop,exact:!0,children:e.renderLists()})}),Object(y.jsxs)(j.a,{only:c,implementation:"css",children:[Object(y.jsx)(f.a,{path:e.getPath(),exact:!0,children:e.renderMobileLists()}),Object(y.jsx)(f.a,{path:e.getDetailPath().mobile,exact:!0,children:e.renderMobileDetail()})]})]},"path-".concat(t))})}))})})]})})})]})})}var ne=n(63),ae=n(97),ce=n(104),re=n(103),ie=n(48),se=n.n(ie),oe=function e(){var t=this;Object(ne.a)(this,e),this.nextURL=void 0,this.appContext=void 0,this.fetchList=Object(E.a)(D.a.mark((function e(){var n,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=t.getFetchListURL())){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.prev=3,e.next=6,se.a.get(n);case 6:return a=e.sent,t.nextURL=a.data.next,e.abrupt("return",a.data.results);case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}}),e,null,[[3,11]])}))),this.fetchNext=Object(E.a)(D.a.mark((function e(){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.nextURL){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,se.a.get(t.nextURL);case 5:return n=e.sent,t.nextURL=n.data.next,e.abrupt("return",n.data.results);case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])}))),this.fetchDetail=function(){var e=Object(E.a)(D.a.mark((function e(n){var a,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(a=t.getFetchDetailURL(n))){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.prev=3,e.next=6,se.a.get(a);case 6:return c=e.sent,e.abrupt("return",c.data);case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),this.hasNext=function(){return void 0!==t.nextURL}},ue=n(101),de=n.n(ue),le=n(205),he=n(199),je=n(159),be=n(203),pe=n(45),fe=n(36),xe=n(64),ve=n.n(xe),Oe=n(200),me=n(201),ge=n(202),we=n(204),ye=n(49),ke=Object(o.a)((function(e){return Object(u.a)({card:{height:"90vh",overflowY:"hidden"},cardContent:{overflowY:"scroll",height:"100%"}})}));function Ce(e){var t=e.data,n=ke(),a=Object(ye.a)();return Object(y.jsxs)(he.a,{variant:"outlined",className:n.card,children:[Object(y.jsx)(Oe.a,{title:t.keyword,subheader:"Count: ".concat(t.numbers,"      |     Rank: ").concat(t.rank)}),Object(y.jsx)(me.a,{className:n.cardContent,children:Object(y.jsx)(fe.a,{children:function(e){var n,c=e.height,r=e.width;return Object(y.jsx)(ye.b,{height:c,width:r,cache:a,data:null!==(n=t.posts)&&void 0!==n?n:[],children:function(e){var n=e.index,a=e.style;return Object(y.jsx)(Le,{index:n,style:a,item:t.posts?t.posts[n]:void 0})}})}})})]})}function Le(e){var t=e.item,n=e.index,a=e.style;return Object(y.jsxs)("div",{style:a,children:[Object(y.jsxs)(m.a,{button:!0,children:[Object(y.jsx)(ge.a,{children:Object(y.jsx)("div",{children:n+1})}),Object(y.jsx)(be.a,{primary:null===t||void 0===t?void 0:t.content.replace("\u6536\u8d77\u5168\u6587d","").replace("\u5c55\u5f00\u5168\u6587c","\u2026\u2026").replace("L","").replace("\ue627","")})]}),Object(y.jsx)(we.a,{})]},"post-".concat(n))}var Ie=Object(o.a)((function(e){return Object(u.a)({container:{},card:{height:"90vh"}})}));function Ne(e){var t=e.fetchList,n=e.fetchNext,a=e.hasNext,r=e.fetchDetail,i=e.appContext,s=Ie(),o=Object(f.f)(),u=Object(f.g)(),d=Object(f.h)(),l=c.a.useContext(k).setIsLoading,h=c.a.useContext(i),j=h.setItems,b=h.items,p=h.setSelectedIndex,x=h.selectedIndex,v=h.detail,O=h.setSelectedDetail;c.a.useEffect((function(){l(!0),t().then((function(e){e&&j(e)})).finally((function(){l(!1)}))}),[]),c.a.useEffect((function(){p(d.id?d.id:void 0),d.id?(l(!0),r(d.id).then((function(e){O(e)})).finally((function(){l(!1)}))):O(void 0)}),[u]);var m=c.a.useCallback(Object(E.a)(D.a.mark((function e(){var t,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,n();case 3:t=e.sent,l(!1),t&&(a=b.concat(t),j(a));case 6:case"end":return e.stop()}}),e)}))),[b]),g=c.a.useCallback(function(){var e=Object(E.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.push({pathname:"/sina/"+t.id});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b]);return Object(y.jsxs)(le.a,{container:!0,className:s.container,spacing:2,children:[Object(y.jsx)(le.a,{item:!0,xs:12,md:4,children:Object(y.jsx)(he.a,{className:s.card,variant:"outlined",children:Object(y.jsx)(fe.a,{children:function(e){var t=e.height,n=e.width;return Object(y.jsx)(pe.a,{height:t,itemCount:a()?(null===b||void 0===b?void 0:b.length)+1:null===b||void 0===b?void 0:b.length,width:n,itemSize:70,children:function(e){var t=e.index,n=e.style;return Object(y.jsx)(Se,{selectedIndex:x,selectKeyword:g,keyword:t<b.length?b[t]:void 0,style:n,loadMore:m,index:t})}})}})})}),Object(y.jsx)(je.a,{in:void 0!==v,mountOnEnter:!0,unmountOnExit:!0,children:Object(y.jsx)(le.a,{item:!0,xs:12,md:8,children:v&&Object(y.jsx)(Ce,{data:v})})})]})}function Se(e){var t=e.keyword,n=e.style,a=e.loadMore,c=e.selectKeyword,r=e.selectedIndex;e.index;return void 0!==t?Object(y.jsx)(m.a,{style:n,button:!0,selected:t.id.toString()===r,onClick:function(){return c(t)},children:Object(y.jsx)(be.a,{primary:"".concat(t.keyword),secondary:ve()(t.time).fromNow()})}):Object(y.jsx)(m.a,{style:n,button:!0,onClick:a,children:Object(y.jsx)(be.a,{primary:"Load More"})})}var Re=n(100),De=n.n(Re);function Ee(e){var t=e.keyword,n=Object(f.f)();return Object(y.jsxs)("div",{children:[Object(y.jsx)(m.a,{button:!0,onClick:function(){n.push("/sina/".concat(t.id))},children:Object(y.jsx)(be.a,{primary:t.keyword,secondary:ve()(t.time).fromNow()})}),Object(y.jsx)(we.a,{})]})}var Pe=Object(o.a)((function(e){return Object(u.a)({container:{height:"95vh"}})}));function Ae(e){var t=e.fetchList,n=e.fetchNext,a=e.hasNext,r=e.fetchDetail,i=e.appContext,s=Pe(),o=Object(f.f)(),u=Object(f.g)(),d=Object(f.h)(),l=c.a.useContext(k).setIsLoading,h=c.a.useContext(i),j=h.setItems,b=h.items,p=h.setSelectedIndex,x=h.selectedIndex,v=(h.detail,h.setSelectedDetail);c.a.useEffect((function(){l(!0),t().then((function(e){e&&j(e)})).finally((function(){l(!1)}))}),[]),c.a.useEffect((function(){p(d.id?d.id:void 0),d.id?(l(!0),r(d.id).then((function(e){v(e)})).finally((function(){l(!1)}))):v(void 0)}),[u]);var O=c.a.useCallback(Object(E.a)(D.a.mark((function e(){var t,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,n();case 3:t=e.sent,l(!1),t&&(a=b.concat(t),j(a));case 6:case"end":return e.stop()}}),e)}))),[b]),m=c.a.useCallback(function(){var e=Object(E.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.push({pathname:"/sina/"+t.id});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b]);return Object(y.jsx)("div",{className:s.container,children:Object(y.jsx)(fe.a,{children:function(e){var t=e.height,n=e.width;return Object(y.jsx)(pe.a,{height:t,itemCount:a()?(null===b||void 0===b?void 0:b.length)+1:null===b||void 0===b?void 0:b.length,width:n,itemSize:70,children:function(e){var t=e.index,n=e.style;return Object(y.jsx)(Se,{selectedIndex:x,selectKeyword:m,keyword:t<b.length?b[t]:void 0,style:n,loadMore:O,index:t})}})}})})}var Ue=n(206),Me=Object(o.a)((function(e){return Object(u.a)({card:{height:"95vh",overflowY:"hidden"},cardContent:{overflowY:"scroll",height:"100%"}})}));function ze(e){var t=Me(),n=Object(ye.a)(),a=(Object(f.g)(),Object(f.h)()),r=c.a.useState(),i=Object(w.a)(r,2),s=i[0],o=i[1],u=c.a.useContext(k).setIsLoading;return c.a.useEffect((function(){if(a.id){var t=a.id;u(!0),e.fetchDetail(t).then((function(e){o(e)})).finally((function(){return u(!1)}))}}),[a]),void 0!==s?Object(y.jsxs)("div",{className:t.card,children:[Object(y.jsx)(Oe.a,{title:s.keyword,subheader:"Count: ".concat(s.numbers,"      |     Rank: ").concat(s.rank)}),Object(y.jsx)("div",{className:t.cardContent,children:Object(y.jsx)(fe.a,{children:function(e){var t,a=e.height,c=e.width;return Object(y.jsx)(ye.b,{height:a,width:c,cache:n,data:null!==(t=s.posts)&&void 0!==t?t:[],children:function(e){var t=e.index,n=e.style;return Object(y.jsx)(Le,{index:t,style:n,item:s.posts?s.posts[t]:void 0})}})}})})]}):Object(y.jsx)("div",{style:{overflowY:"hidden"},children:Array.from(new Array(22)).map((function(){return Object(y.jsx)("div",{children:Object(y.jsx)(Ue.a,{height:40})})}))})}var Fe=function(e){var t=e.children,n=e.context,a=c.a.useState([]),r=Object(w.a)(a,2),i=r[0],s=r[1],o=c.a.useState(),u=Object(w.a)(o,2),d=u[0],l=u[1],h=c.a.useState(),j=Object(w.a)(h,2),b=j[0],p={items:i,setItems:s,selectedIndex:d,setSelectedDetail:j[1],detail:b,setSelectedIndex:l};return Object(y.jsx)(n.Provider,{value:p,children:t})},Te=[new(function(e){Object(ce.a)(n,e);var t=Object(re.a)(n);function n(){var e;return Object(ne.a)(this,n),(e=t.call(this)).getAppProvider=function(t){var n=t.children;return Object(y.jsx)(Fe,{context:e.appContext,children:n})},e.renderMobileLists=function(){return Object(y.jsx)(Ae,{fetchList:e.fetchList,fetchNext:e.fetchNext,hasNext:e.hasNext,fetchDetail:e.fetchDetail,appContext:e.appContext})},e.renderMobileDetail=function(){return Object(y.jsx)(ze,{fetchDetail:e.fetchDetail})},e.search=function(){var t=Object(E.a)(D.a.mark((function t(n){var a,c,r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=De.a.stringify({search:n}),c="".concat(e.getFetchListURL(),"?").concat(a),t.prev=2,t.next=5,se.a.get(c);case 5:return r=t.sent,t.abrupt("return",r.data.results);case 9:t.prev=9,t.t0=t.catch(2),window.alert(t.t0);case 12:return t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),e.renderSearchItem=function(e){return Object(y.jsx)(Ee,{keyword:e})},e.appContext=c.a.createContext(),e}return Object(ae.a)(n,[{key:"getIcon",value:function(){return Object(y.jsx)(de.a,{})}},{key:"isMatchPath",value:function(e){throw new Error("Method not implemented.")}},{key:"getPath",value:function(){return"/sina"}},{key:"getDetailPath",value:function(){return{desktop:"/sina/:id?",mobile:"/sina/:id"}}},{key:"getFetchListURL",value:function(e){return"https://z6msxm2nwd.execute-api.ap-southeast-1.amazonaws.com/dev/api/sina/keyword/"}},{key:"getFetchDetailURL",value:function(e,t){return this.getFetchListURL()+e+"/"}},{key:"getTitle",value:function(){return"Sina Keyword"}},{key:"renderLists",value:function(){return Object(y.jsx)(Ne,{fetchList:this.fetchList,fetchNext:this.fetchNext,hasNext:this.hasNext,fetchDetail:this.fetchDetail,appContext:this.appContext})}}]),n}(oe))];var Ye=function(){return Object(y.jsx)(te,{apps:Te})},Ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,212)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(Ye,{})}),document.getElementById("root")),Ke()}},[[156,1,2]]]);
//# sourceMappingURL=main.e340f285.chunk.js.map