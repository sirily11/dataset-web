{"version":3,"sources":["config/config.tsx","components/home/SelectedAppContext.tsx","components/home/LeftDrawer.tsx","components/home/AppAppBar.tsx","components/home/AppBackdrop.tsx","components/context_menu/ContextMenuContext.tsx","components/home/AppView.tsx","components/dataset_app/base_dataset_app.tsx","components/sina/SinaDetailsDesktop.tsx","components/sina/SinaListDesktop.tsx","components/sina/SearchItem.tsx","components/sina/SinaListMobile.tsx","components/sina/SinaDetailsMobile.tsx","components/dataset_app/base_app_action.tsx","components/dataset_app/actions/SinaDetaPickerAction.tsx","components/dataset_app/SinaDataset.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["config","DatasetAppContext","React","createContext","DatasetAppProvider","children","apps","location","useLocation","useState","undefined","selectedApp","setSelectedApp","anchorEl","setAnchorEl","isLoading","setIsLoading","searchResults","setResults","useEffect","foundApp","find","a","matchPath","pathname","path","getDetailPath","desktop","exact","Provider","value","useStyles","makeStyles","theme","createStyles","drawer","width","flexShrink","drawerPaper","LeftDrawer","props","history","useHistory","classes","useContext","Drawer","variant","className","paper","List","map","index","Tooltip","title","getTitle","ListItem","button","selected","onClick","push","getPath","ListItemIcon","getIcon","appBar","breakpoints","up","marginLeft","flexGrow","display","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","spacing","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","popper","maxHeight","overflow","zIndex","top","right","AppAppBar","showBackBtn","setShowBackBtn","showButton","match","Popper","open","style","Paper","length","s","i","renderSearchItem","AppBar","Toolbar","IconButton","Typography","noWrap","Hidden","smDown","renderActions","SearchBar","text","setText","ClickAwayListener","onClickAway","InputBase","placeholder","root","input","onChange","e","target","inputProps","currentTarget","onKeyDown","key","result","backdrop","AppBackdrop","Backdrop","CircularProgress","ContextMenuContext","ContextMenuProvider","menuAnchor","setMenuAnchor","openMenu","anchor","closeMenu","content","toolbar","mixins","darkTheme","createMuiTheme","type","primary","lightBlue","AppView","desktopBreakpoints","mobileBreakpoints","overflowY","ThemeProvider","CssBaseline","only","implementation","getAppProvider","renderLists","renderMobileLists","mobile","renderMobileDetail","DatasetApp","nextURL","appContext","fetchList","params","url","getFetchListURL","console","log","axios","get","data","next","results","fetchNext","fetchDetail","identifier","getFetchDetailURL","hasNext","useLayoutEffect","card","cardContent","SinaDetailsDesktop","cache","createCache","Card","CardHeader","keyword","subheader","numbers","rank","CardContent","posts","DetailItem","item","margin","replace","Divider","container","SinaListDesktop","useParams","setItems","keywords","items","setSelectedIndex","selectedIndex","detail","setSelectedDetail","then","v","finally","id","d","loadMore","useCallback","n","newKeywords","concat","selectKeyword","Grid","xs","md","itemCount","itemSize","ListItemRow","Fade","in","mountOnEnter","unmountOnExit","toString","ListItemText","secondary","moment","time","fromNow","SearchItem","SinaListMobile","SinaDetailsMobile","setData","Array","from","Skeleton","DatasetAppAction","render","fetchData","updateData","Consumer","renderActionIcon","Menu","onClose","renderMenuItems","m","MenuItem","renderExtraComponent","SinaDatePickerAction","DatePickerAction","setOpenDatePicker","openDatePicker","dateRange","setDateRange","fetchDateInRange","startDate","endDate","start_time","format","end_time","closeOnClickOutside","toggle","SinaDatasetProvider","context","setKeywords","q","qs","stringify","window","alert","createActions","actions","currentPath","Error","baseURL","qss","this","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d0ca61fb.chunk.js","sourcesContent":["export const config = {\n  drawerWidth: 60,\n};\n","import React from \"react\";\nimport { DatasetApp } from \"../dataset_app/base_dataset_app\";\nimport { useLocation } from \"react-router-dom\";\nimport { matchPath } from \"react-router\";\n\ninterface App {\n  selectedApp?: DatasetApp<any, any, any>;\n  isLoading: boolean;\n  anchorEl?: HTMLElement;\n  setAnchorEl(e?: HTMLElement): void;\n  setIsLoading(v: boolean): void;\n  searchResults: any[];\n  setResults(a: any[]): void;\n}\n\n//@ts-ignore\nexport const DatasetAppContext = React.createContext<App>({});\n\nexport function DatasetAppProvider({\n  children,\n  apps,\n}: {\n  children: any;\n  apps: DatasetApp<any, any, any>[];\n}) {\n  const location = useLocation();\n\n  const [selectedApp, setSelectedApp] =\n    React.useState<DatasetApp<any, any, any> | undefined>(undefined);\n  const [anchorEl, setAnchorEl] = React.useState<HTMLElement>();\n\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [searchResults, setResults] = React.useState<any[]>([]);\n\n  React.useEffect(() => {\n    let foundApp = apps.find((a) => {\n      const match = matchPath(location.pathname, {\n        path: a.getDetailPath().desktop,\n        exact: true,\n      });\n\n      return match !== null;\n    });\n    setSelectedApp(foundApp);\n  }, [location]);\n\n  return (\n    <DatasetAppContext.Provider\n      value={{\n        selectedApp: selectedApp,\n        isLoading,\n        setIsLoading,\n        anchorEl,\n        setAnchorEl,\n        searchResults,\n        setResults,\n      }}\n    >\n      {children}\n    </DatasetAppContext.Provider>\n  );\n}\n","import React from \"react\";\nimport { DatasetApp } from \"../dataset_app/base_dataset_app\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { createStyles, Drawer, makeStyles, Theme } from \"@material-ui/core\";\nimport { config } from \"../../config/config\";\nimport { List, ListItem, ListItemIcon, Tooltip } from \"@material-ui/core\";\nimport { DatasetAppContext } from \"./SelectedAppContext\";\nimport { matchPath } from \"react-router\";\n\ninterface Props {\n  apps: DatasetApp<any, any, any>[];\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    drawer: {\n      width: config.drawerWidth,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      width: config.drawerWidth,\n    },\n  })\n);\n\nexport default function LeftDrawer(props: Props) {\n  const location = useLocation();\n  const history = useHistory();\n  const classes = useStyles();\n  const { apps } = props;\n  const { selectedApp } = React.useContext(DatasetAppContext);\n\n  return (\n    <Drawer\n      variant=\"permanent\"\n      className={classes.drawer}\n      classes={{ paper: classes.drawerPaper }}\n    >\n      <List>\n        {apps.map((a, index) => (\n          <Tooltip title={a.getTitle()} key={a.getTitle()}>\n            <ListItem\n              button\n              selected={selectedApp === a}\n              onClick={() => {\n                history.push(a.getPath());\n              }}\n            >\n              <ListItemIcon>{a.getIcon()}</ListItemIcon>\n            </ListItem>\n          </Tooltip>\n        ))}\n      </List>\n    </Drawer>\n  );\n}\n","import {\n  ClickAwayListener,\n  createStyles,\n  Hidden,\n  IconButton,\n  InputBase,\n  List,\n  makeStyles,\n  Paper,\n  Popper,\n} from \"@material-ui/core\";\nimport { Theme } from \"@material-ui/core\";\nimport { AppBar, Toolbar, Typography } from \"@material-ui/core\";\nimport { fade } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport { config } from \"../../config/config\";\nimport { DatasetAppContext } from \"./SelectedAppContext\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { DatasetApp } from \"../dataset_app/base_dataset_app\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { matchPath } from \"react-router\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    appBar: {\n      [theme.breakpoints.up(\"md\")]: {\n        width: `calc(100% - ${config.drawerWidth}px)`,\n        marginLeft: config.drawerWidth,\n      },\n    },\n\n    title: {\n      flexGrow: 1,\n      display: \"none\",\n      [theme.breakpoints.up(\"sm\")]: {\n        display: \"block\",\n      },\n    },\n    search: {\n      position: \"relative\",\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.15),\n      \"&:hover\": {\n        backgroundColor: fade(theme.palette.common.white, 0.25),\n      },\n      marginLeft: 0,\n      width: \"100%\",\n      [theme.breakpoints.up(\"sm\")]: {\n        marginLeft: theme.spacing(1),\n        width: \"auto\",\n      },\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: \"100%\",\n      position: \"absolute\",\n      pointerEvents: \"none\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    inputRoot: {\n      color: \"inherit\",\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create(\"width\"),\n      width: \"100%\",\n      [theme.breakpoints.up(\"sm\")]: {\n        width: \"28ch\",\n        \"&:focus\": {\n          width: \"34ch\",\n        },\n      },\n    },\n    popper: {\n      width: \"50ch\",\n      maxHeight: 400,\n      overflow: \"auto\",\n      zIndex: 10000,\n      padding: 20,\n      position: \"absolute\",\n      top: 10,\n      right: -160,\n    },\n  })\n);\n\nexport default function AppAppBar() {\n  const classes = useStyles();\n  const location = useLocation();\n  const history = useHistory();\n\n  const { selectedApp, anchorEl, searchResults, setResults } =\n    React.useContext(DatasetAppContext);\n\n  const [showBackBtn, setShowBackBtn] = React.useState(true);\n\n  const showButton = () => {\n    let path = location.pathname;\n    if (selectedApp !== undefined) {\n      let match =\n        matchPath(selectedApp.getPath(), {\n          path: path,\n          exact: true,\n        }) === null;\n\n      if (match) {\n        setShowBackBtn(true);\n      } else {\n        setShowBackBtn(false);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    showButton();\n  }, []);\n\n  React.useEffect(() => {\n    showButton();\n  }, [location]);\n\n  return (\n    <div>\n      <Popper\n        open={anchorEl !== undefined}\n        anchorEl={anchorEl}\n        style={{ zIndex: 2000 }}\n      >\n        <Paper className={classes.popper} variant=\"outlined\">\n          <List>\n            {searchResults.length > 0 ? (\n              searchResults.map((s, i) => selectedApp?.renderSearchItem(s))\n            ) : (\n              <div>No Results</div>\n            )}\n          </List>\n        </Paper>\n      </Popper>\n      <AppBar className={classes.appBar}>\n        <Toolbar>\n          {showBackBtn && (\n            <IconButton\n              onClick={() => {\n                if (selectedApp) {\n                  history.push(selectedApp.getPath());\n                }\n              }}\n            >\n              <ArrowBackIosIcon />\n            </IconButton>\n          )}\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            {selectedApp?.getTitle() ?? \"Dataset App\"}\n          </Typography>\n          {selectedApp && <Hidden smDown>{selectedApp.renderActions()}</Hidden>}\n\n          {selectedApp && <SearchBar />}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nfunction SearchBar() {\n  const classes = useStyles();\n  const [text, setText] = React.useState(\"\");\n\n  const { selectedApp, setAnchorEl, anchorEl, searchResults, setResults } =\n    React.useContext(DatasetAppContext);\n\n  return (\n    <ClickAwayListener onClickAway={() => setAnchorEl(undefined)}>\n      <div className={classes.search}>\n        <div className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          placeholder={`Search for ${selectedApp?.getTitle()}`}\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput,\n          }}\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n          inputProps={{ \"aria-label\": \"search\" }}\n          onClick={(e) => setAnchorEl(e.currentTarget)}\n          onKeyDown={async (e) => {\n            if (e.key === \"Enter\") {\n              if (text.length === 0) {\n                setResults([]);\n              } else {\n                let result = await selectedApp?.search(text);\n                if (result) {\n                  setResults(result);\n                }\n              }\n            }\n          }}\n        />\n      </div>\n    </ClickAwayListener>\n  );\n}\n","import {\n  Backdrop,\n  CircularProgress,\n  createMuiTheme,\n  createStyles,\n  CssBaseline,\n  makeStyles,\n  Theme,\n  ThemeProvider,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { config } from \"../../config/config\";\nimport { DatasetApp } from \"../dataset_app/base_dataset_app\";\nimport { Switch, HashRouter as Router, Route } from \"react-router-dom\";\nimport LeftDrawer from \"./LeftDrawer\";\nimport { AppBar } from \"@material-ui/core\";\nimport { Toolbar } from \"@material-ui/core\";\nimport { Typography } from \"@material-ui/core\";\nimport lightBlue from \"@material-ui/core/colors/lightBlue\";\nimport { DatasetAppContext, DatasetAppProvider } from \"./SelectedAppContext\";\nimport AppAppBar from \"./AppAppBar\";\n\ninterface Props {}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: \"#fff\",\n    },\n  })\n);\n\nexport default function AppBackdrop(props: Props) {\n  const classes = useStyles();\n  const { isLoading } = React.useContext(DatasetAppContext);\n\n  return (\n    <Backdrop open={isLoading} className={classes.backdrop}>\n      <CircularProgress />\n    </Backdrop>\n  );\n}\n","import React from \"react\";\n\ninterface ContextMenu {\n  menuAnchor?: HTMLElement;\n  openMenu(a: HTMLElement): void;\n  closeMenu(): void;\n}\n\n//@ts-ignore\nexport const ContextMenuContext = React.createContext<ContextMenu>({});\n\nexport default function ContextMenuProvider({ children }: { children: any }) {\n  const [menuAnchor, setMenuAnchor] = React.useState<HTMLElement>();\n  const openMenu = (anchor: HTMLElement) => {\n    setMenuAnchor(anchor);\n  };\n\n  const closeMenu = () => {\n    setMenuAnchor(undefined);\n  };\n\n  const value: ContextMenu = {\n    menuAnchor,\n    openMenu,\n    closeMenu,\n  };\n\n  return (\n    <ContextMenuContext.Provider value={value}>\n      {children}\n    </ContextMenuContext.Provider>\n  );\n}\n","import {\n  createMuiTheme,\n  createStyles,\n  CssBaseline,\n  Hidden,\n  makeStyles,\n  Theme,\n  ThemeProvider,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { config } from \"../../config/config\";\nimport { DatasetApp } from \"../dataset_app/base_dataset_app\";\nimport { Switch, HashRouter as Router, Route } from \"react-router-dom\";\nimport LeftDrawer from \"./LeftDrawer\";\nimport { AppBar } from \"@material-ui/core\";\nimport { Toolbar } from \"@material-ui/core\";\nimport { Typography } from \"@material-ui/core\";\nimport lightBlue from \"@material-ui/core/colors/lightBlue\";\nimport { DatasetAppProvider } from \"./SelectedAppContext\";\nimport AppAppBar from \"./AppAppBar\";\nimport AppBackdrop from \"./AppBackdrop\";\nimport { Breakpoint } from \"@material-ui/core/styles/createBreakpoints\";\nimport ContextMenuProvider from \"../context_menu/ContextMenuContext\";\n\ninterface Props {\n  apps: DatasetApp<any, any, any>[];\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    content: {\n      [theme.breakpoints.up(\"md\")]: {\n        marginLeft: config.drawerWidth,\n        padding: theme.spacing(3),\n      },\n      marginTop: 50,\n      flexGrow: 1,\n\n      overflowY: \"hidden\",\n    },\n    toolbar: theme.mixins.toolbar,\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: \"#fff\",\n    },\n  })\n);\n\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: \"light\",\n    primary: lightBlue,\n  },\n});\n\nexport default function AppView(props: Props) {\n  const { apps } = props;\n  const classes = useStyles();\n  const desktopBreakpoints: Breakpoint[] = [\"xs\", \"sm\"];\n  const mobileBreakpoints: Breakpoint[] = [\"md\", \"lg\", \"xl\"];\n\n  return (\n    <div style={{ overflowY: \"hidden\" }}>\n      <ContextMenuProvider>\n        <ThemeProvider theme={darkTheme}>\n          <CssBaseline />\n          <Router>\n            <DatasetAppProvider apps={apps}>\n              <div style={{ overflowY: \"hidden\" }}>\n                <AppBackdrop />\n                <Hidden only={desktopBreakpoints} implementation=\"css\">\n                  <LeftDrawer apps={apps} />\n                </Hidden>\n\n                <div className={classes.content}>\n                  <Switch>\n                    {apps.map((a, i) =>\n                      a.getAppProvider({\n                        children: (\n                          <div key={`path-${i}`}>\n                            <AppAppBar />\n                            <Hidden\n                              only={desktopBreakpoints}\n                              implementation=\"css\"\n                            >\n                              <Route path={a.getDetailPath().desktop} exact>\n                                {a.renderLists()}\n                              </Route>\n                            </Hidden>\n                            <Hidden\n                              only={mobileBreakpoints}\n                              implementation=\"css\"\n                            >\n                              <Route path={a.getPath()} exact>\n                                {a.renderMobileLists()}\n                              </Route>\n                              <Route path={a.getDetailPath().mobile} exact>\n                                {a.renderMobileDetail()}\n                              </Route>\n                            </Hidden>\n                          </div>\n                        ),\n                      })\n                    )}\n                  </Switch>\n                </div>\n              </div>\n            </DatasetAppProvider>\n          </Router>\n        </ThemeProvider>\n      </ContextMenuProvider>\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport React from \"react\";\nimport { DatasetAppAction } from \"./base_app_action\";\n\nexport interface DatasetAppListProps<T, D, C> {\n  fetchList(params?: { [keyword: string]: string }): Promise<T[] | undefined>;\n  fetchNext(): Promise<T[] | undefined>;\n  hasNext(): boolean;\n  fetchDetail(identifier: any): Promise<D | undefined>;\n  appContext: React.Context<C>;\n}\n\nexport interface DatasetAppDetailProps<D> {\n  data: D;\n}\n\nexport interface DatasetAppMobileDetailProps<D> {\n  fetchDetail(identifier: any): Promise<D | undefined>;\n}\n\nexport interface DatasetAppContext<T> {\n  items: T[];\n  setItems(keywords: T[]): void;\n}\n\nexport interface ResponsivePath {\n  mobile: string;\n  desktop: string;\n}\n\nexport abstract class DatasetApp<T, D, C extends DatasetAppContext<T>> {\n  abstract isMatchPath(currentPath: string): boolean;\n\n  nextURL?: string;\n  appContext?: React.Context<DatasetAppContext<T>>;\n\n  abstract getAppProvider({ children }: { children: any }): JSX.Element;\n\n  /**\n   * Get list's path\n   */\n  abstract getPath(): string;\n  /**\n   * Get detail's path\n   */\n  abstract getDetailPath(): ResponsivePath;\n  /**\n   * Get app's title\n   */\n\n  abstract getFetchListURL(params?: { [keyword: string]: string }): string;\n\n  abstract getFetchDetailURL(\n    id: any,\n    params?: { [keyword: string]: string }\n  ): string;\n\n  /**\n   * Get App Title\n   */\n  abstract getTitle(): string;\n\n  /**\n   * Get App Icon\n   */\n  abstract getIcon(): JSX.Element;\n\n  /**\n   * Render desktop list's page\n   */\n  abstract renderLists(): JSX.Element;\n\n  /**\n   * Render mobile list page\n   */\n  abstract renderMobileLists(): JSX.Element;\n\n  /**\n   * Render Mobile Version Details\n   */\n  abstract renderMobileDetail(): JSX.Element;\n\n  /**\n   * Create list of actions\n   */\n  abstract createActions(): DatasetAppAction<T, D, C>[];\n\n  /**\n   * Render Actions\n   */\n  abstract renderActions(): JSX.Element;\n\n  /**\n   * Fetch list's info\n   */\n  fetchList = async (params?: {\n    [keyword: string]: string;\n  }): Promise<T[] | undefined> => {\n    let url = this.getFetchListURL(params);\n    if (url === undefined) {\n      return undefined;\n    }\n    try {\n      console.log(url);\n      let result = await axios.get(url);\n      this.nextURL = result.data.next;\n      return result.data.results;\n    } catch (err) {}\n  };\n\n  /**\n   * Fetch more info\n   */\n  fetchNext = async (): Promise<T[] | undefined> => {\n    if (this.nextURL === undefined) {\n      return undefined;\n    }\n\n    try {\n      let result = await axios.get(this.nextURL);\n      this.nextURL = result.data.next;\n      return result.data.results as T[];\n    } catch (err) {\n      //   window.alert(err);\n    }\n  };\n\n  /**\n   * Fetch detail\n   */\n  fetchDetail = async (identifier: any): Promise<D | undefined> => {\n    let url = this.getFetchDetailURL(identifier);\n    if (url === undefined) {\n      return undefined;\n    }\n\n    try {\n      let result = await axios.get(url);\n\n      return result.data as D;\n    } catch (err) {\n      //   window.alert(err);\n    }\n  };\n\n  hasNext = (): boolean => {\n    return this.nextURL !== undefined;\n  };\n\n  abstract search(keyword: string): Promise<T[] | undefined>;\n\n  abstract renderSearchItem(item: T): JSX.Element;\n}\n","import {\n  Card,\n  CardContent,\n  CardHeader,\n  createStyles,\n  Divider,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  makeStyles,\n  Theme,\n  Typography,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { Post, SinaDatasetDetailProps } from \"../dataset_app/SinaDataset\";\nimport DynamicList, { createCache } from \"react-window-dynamic-list\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\n\nReact.useLayoutEffect = React.useEffect;\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    card: {\n      height: `90vh`,\n      overflowY: \"hidden\",\n    },\n    cardContent: {\n      overflowY: \"scroll\",\n      height: \"100%\",\n    },\n  })\n);\n\nexport default function SinaDetailsDesktop(props: SinaDatasetDetailProps) {\n  const { data } = props;\n  const classes = useStyles();\n  const cache = createCache();\n\n  return (\n    <Card variant=\"outlined\" className={classes.card}>\n      <CardHeader\n        title={data.keyword}\n        subheader={`Count: ${data.numbers}      |     Rank: ${data.rank}`}\n      />\n      <CardContent className={classes.cardContent}>\n        <AutoSizer>\n          {({ height, width }) => (\n            <DynamicList\n              height={height - 65}\n              width={width}\n              cache={cache}\n              data={data.posts ?? []}\n            >\n              {({ index, style }) => (\n                <DetailItem\n                  index={index}\n                  style={style}\n                  item={data.posts ? data.posts[index] : undefined}\n                />\n              )}\n            </DynamicList>\n          )}\n        </AutoSizer>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport function DetailItem(props: { item?: Post; index: number; style: any }) {\n  const { item, index, style } = props;\n\n  return (\n    <div key={`post-${index}`} style={style}>\n      {/* <ListItemAvatar>\n          <div>{index + 1}</div>\n        </ListItemAvatar> */}\n      <Typography variant=\"body2\">{index + 1}</Typography>\n      <Typography variant=\"body1\" style={{ margin: 20 }}>\n        {item?.content\n          .replace(\"收起全文d\", \"\")\n          .replace(\"展开全文c\", \"……\")\n          .replace(\"L\", \"\")\n          .replace(\"O网页链接\", \"[网页链接]\")\n          .replace(\"\", \"\")}\n      </Typography>\n\n      <Divider />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Keyword, SinaDatasetListProps } from \"../dataset_app/SinaDataset\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport {\n  Card,\n  CardHeader,\n  createStyles,\n  Fade,\n  Grid,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport { FixedSizeList as List, ListChildComponentProps } from \"react-window\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport moment from \"moment\";\nimport { DatasetAppContext } from \"../home/SelectedAppContext\";\nimport SinaDetailsDesktop from \"./SinaDetailsDesktop\";\n\ninterface RowProps {\n  keyword?: Keyword;\n  style: any;\n  selectedIndex?: string;\n  loadMore(): Promise<void>;\n  selectKeyword(keyword: Keyword): Promise<void>;\n  index: number;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {},\n    card: {\n      height: `90vh`,\n    },\n  })\n);\n\nexport default function SinaListDesktop(props: SinaDatasetListProps) {\n  const { fetchList, fetchNext, hasNext, fetchDetail, appContext } = props;\n\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const params = useParams<{ id?: string }>();\n\n  const { setIsLoading } = React.useContext(DatasetAppContext);\n  const {\n    setItems,\n    items: keywords,\n    setSelectedIndex,\n    selectedIndex,\n    detail,\n    setSelectedDetail,\n  } = React.useContext(appContext);\n\n  React.useEffect(() => {\n    setIsLoading(true);\n    fetchList()\n      .then((v) => {\n        if (v) {\n          setItems(v);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    setSelectedIndex(params.id ? params.id : undefined);\n    if (params.id) {\n      setIsLoading(true);\n      setSelectedDetail(undefined);\n      fetchDetail(params.id)\n        .then((d) => {\n          setSelectedDetail(d);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    } else {\n      setSelectedDetail(undefined);\n    }\n  }, [location]);\n\n  const loadMore = React.useCallback(async () => {\n    setIsLoading(true);\n    let n = await fetchNext();\n    setIsLoading(false);\n    if (n) {\n      let newKeywords = keywords.concat(n);\n      setItems(newKeywords);\n    }\n  }, [keywords]);\n\n  const selectKeyword = React.useCallback(\n    async (keyword: Keyword) => {\n      history.push({\n        pathname: \"/sina/\" + keyword.id,\n      });\n    },\n    [keywords]\n  );\n\n  return (\n    <Grid container className={classes.container} spacing={2}>\n      <Grid item xs={12} md={4}>\n        <Card className={classes.card} variant=\"outlined\">\n          {/* <CardHeader title=\"Keywords\" /> */}\n          <AutoSizer>\n            {({ height, width }) => (\n              <List\n                height={height}\n                itemCount={hasNext() ? keywords?.length + 1 : keywords?.length}\n                width={width}\n                itemSize={70}\n              >\n                {({ index, style }) => (\n                  <ListItemRow\n                    selectedIndex={selectedIndex}\n                    selectKeyword={selectKeyword}\n                    keyword={\n                      index < keywords.length ? keywords[index] : undefined\n                    }\n                    style={style}\n                    loadMore={loadMore}\n                    index={index}\n                  />\n                )}\n              </List>\n            )}\n          </AutoSizer>\n        </Card>\n      </Grid>\n      <Fade in={detail !== undefined} mountOnEnter unmountOnExit>\n        <Grid item xs={12} md={8}>\n          {detail && <SinaDetailsDesktop data={detail} />}\n        </Grid>\n      </Fade>\n    </Grid>\n  );\n}\n\nexport function ListItemRow(props: RowProps) {\n  const { keyword, style, loadMore, selectKeyword, selectedIndex, index } =\n    props;\n\n  return keyword !== undefined ? (\n    <ListItem\n      style={style}\n      button\n      selected={keyword.id.toString() === selectedIndex}\n      onClick={() => selectKeyword(keyword)}\n    >\n      <ListItemText\n        primary={`${keyword.keyword}`}\n        secondary={moment(keyword.time).fromNow()}\n      />\n    </ListItem>\n  ) : (\n    <ListItem style={style} button onClick={loadMore}>\n      <ListItemText primary={`Load More`} />\n    </ListItem>\n  );\n}\n","import React from \"react\";\nimport { Keyword } from \"../dataset_app/SinaDataset\";\nimport { useHistory } from \"react-router-dom\";\nimport { Divider, ListItem, ListItemText } from \"@material-ui/core\";\nimport moment from \"moment\";\n\ninterface SearchProps {\n  keyword: Keyword;\n}\n\nexport default function SearchItem(props: SearchProps) {\n  const { keyword } = props;\n  const history = useHistory();\n\n  return (\n    <div>\n      <ListItem\n        button\n        onClick={() => {\n          history.push(`/sina/${keyword.id}`);\n        }}\n      >\n        <ListItemText\n          primary={keyword.keyword}\n          secondary={moment(keyword.time).fromNow()}\n        />\n      </ListItem>\n      <Divider />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Keyword, SinaDatasetListProps } from \"../dataset_app/SinaDataset\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport {\n  Card,\n  CardHeader,\n  createStyles,\n  Fade,\n  Grid,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport { FixedSizeList as List, ListChildComponentProps } from \"react-window\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport moment from \"moment\";\nimport { ListItemRow } from \"./SinaListDesktop\";\nimport { DatasetAppContext } from \"../home/SelectedAppContext\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      height: `95vh`,\n    },\n  })\n);\n\nexport default function SinaListMobile(props: SinaDatasetListProps) {\n  const { fetchList, fetchNext, hasNext, fetchDetail, appContext } = props;\n\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const params = useParams<{ id?: string }>();\n\n  const { setIsLoading } = React.useContext(DatasetAppContext);\n  const {\n    setItems,\n    items: keywords,\n    setSelectedIndex,\n    selectedIndex,\n    detail,\n    setSelectedDetail,\n  } = React.useContext(appContext);\n\n  React.useEffect(() => {\n    setIsLoading(true);\n    fetchList()\n      .then((v) => {\n        if (v) {\n          setItems(v);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    setSelectedIndex(params.id ? params.id : undefined);\n    if (params.id) {\n      setIsLoading(true);\n      fetchDetail(params.id)\n        .then((d) => {\n          setSelectedDetail(d);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    } else {\n      setSelectedDetail(undefined);\n    }\n  }, [location]);\n\n  const loadMore = React.useCallback(async () => {\n    setIsLoading(true);\n    let n = await fetchNext();\n    setIsLoading(false);\n    if (n) {\n      let newKeywords = keywords.concat(n);\n      setItems(newKeywords);\n    }\n  }, [keywords]);\n\n  const selectKeyword = React.useCallback(\n    async (keyword: Keyword) => {\n      history.push({\n        pathname: \"/sina/\" + keyword.id,\n      });\n    },\n    [keywords]\n  );\n\n  return (\n    <div className={classes.container}>\n      <AutoSizer>\n        {({ height, width }) => (\n          <List\n            height={height}\n            itemCount={hasNext() ? keywords?.length + 1 : keywords?.length}\n            width={width}\n            itemSize={70}\n          >\n            {({ index, style }) => (\n              <ListItemRow\n                selectedIndex={selectedIndex}\n                selectKeyword={selectKeyword}\n                keyword={index < keywords.length ? keywords[index] : undefined}\n                style={style}\n                loadMore={loadMore}\n                index={index}\n              />\n            )}\n          </List>\n        )}\n      </AutoSizer>\n    </div>\n  );\n}\n","import {\n  Card,\n  CardContent,\n  CardHeader,\n  createStyles,\n  Divider,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport {\n  Keyword,\n  SinaDatasetMobileDetailProps,\n} from \"../dataset_app/SinaDataset\";\nimport DynamicList, { createCache } from \"react-window-dynamic-list\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport { DetailItem } from \"./SinaDetailsDesktop\";\nimport { DatasetAppContext } from \"../home/SelectedAppContext\";\nimport { useLocation, useParams } from \"react-router\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    card: {\n      height: \"95vh\",\n\n      overflowY: \"hidden\",\n    },\n    cardContent: {\n      overflowY: \"scroll\",\n      height: \"100%\",\n    },\n  })\n);\n\nexport default function SinaDetailsMobile(props: SinaDatasetMobileDetailProps) {\n  const classes = useStyles();\n  const cache = createCache();\n  const location = useLocation();\n  const params = useParams<{ id?: string }>();\n  const [data, setData] = React.useState<Keyword>();\n  const { setIsLoading } = React.useContext(DatasetAppContext);\n\n  React.useEffect(() => {\n    if (params.id) {\n      let id = params.id;\n      setIsLoading(true);\n      props\n        .fetchDetail(id)\n        .then((v) => {\n          setData(v);\n        })\n        .finally(() => setIsLoading(false));\n    }\n  }, [params]);\n\n  return data !== undefined ? (\n    <div className={classes.card}>\n      <CardHeader\n        title={data.keyword}\n        subheader={`Count: ${data.numbers}      |     Rank: ${data.rank}`}\n      />\n      <div className={classes.cardContent}>\n        <AutoSizer>\n          {({ height, width }) => (\n            <DynamicList\n              height={height - 75}\n              width={width}\n              cache={cache}\n              data={data.posts ?? []}\n            >\n              {({ index, style }) => (\n                <DetailItem\n                  index={index}\n                  style={style}\n                  item={data.posts ? data.posts[index] : undefined}\n                />\n              )}\n            </DynamicList>\n          )}\n        </AutoSizer>\n      </div>\n    </div>\n  ) : (\n    <div style={{ overflowY: \"hidden\" }}>\n      {Array.from(new Array(22)).map(() => (\n        <div>\n          <Skeleton height={40} />\n        </div>\n      ))}\n    </div>\n  );\n}\n","import {\n  ClickAwayListener,\n  IconButton,\n  Menu,\n  MenuItem,\n  Popper,\n  Tooltip,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { ContextMenuContext } from \"../context_menu/ContextMenuContext\";\nimport { DatasetAppContext, DatasetAppListProps } from \"./base_dataset_app\";\n\nexport interface FetchDataProps<T, D, C> extends DatasetAppListProps<T, D, C> {}\n\nexport interface UpdateDataProps<T, D> extends DatasetAppContext<T> {}\n\nexport interface ContextMenuProps<T, D, C> {\n  title: string;\n  onClick(): Promise<void>;\n  onClose(): Promise<void>;\n}\n\nexport abstract class DatasetAppAction<T, D, C> {\n  abstract getTitle(): string;\n\n  abstract renderActionIcon(): JSX.Element;\n\n  // abstract onClick(\n  //   fetchData: FetchDataProps<T, D, C>,\n  //   updateData: UpdateDataProps<T, D>\n  // ): void;\n\n  abstract renderExtraComponent(\n    fetchData: FetchDataProps<T, D, C>,\n    updateData: UpdateDataProps<T, D>\n  ): JSX.Element | undefined;\n\n  abstract renderMenuItems(\n    fetchData: FetchDataProps<T, D, C>,\n    updateData: UpdateDataProps<T, D>\n  ): ContextMenuProps<T, D, C>[];\n\n  render = (\n    fetchData: FetchDataProps<T, D, C>,\n    updateData: UpdateDataProps<T, D>\n  ): JSX.Element => {\n    return (\n      <div key={`action-${this.getTitle()}`}>\n        <ContextMenuContext.Consumer>\n          {({ openMenu, closeMenu, menuAnchor }) => (\n            <div>\n              <Tooltip title={this.getTitle()}>\n                <IconButton\n                  onClick={(e) => {\n                    openMenu(e.currentTarget);\n                  }}\n                >\n                  {this.renderActionIcon()}\n                </IconButton>\n              </Tooltip>\n              <Menu\n                anchorEl={menuAnchor}\n                open={menuAnchor !== undefined}\n                onClose={() => closeMenu()}\n              >\n                {this.renderMenuItems(fetchData, updateData).map((m, i) => (\n                  <MenuItem\n                    key={`${this.getTitle()}-${i}`}\n                    onClick={async () => {\n                      await m.onClick();\n                      closeMenu();\n                    }}\n                  >\n                    {m.title}\n                  </MenuItem>\n                ))}\n              </Menu>\n              {this.renderExtraComponent(fetchData, updateData) !== undefined &&\n                this.renderExtraComponent(fetchData, updateData)}\n            </div>\n          )}\n        </ContextMenuContext.Consumer>\n      </div>\n    );\n  };\n}\n","import {\n  ContextMenuProps,\n  DatasetAppAction,\n  FetchDataProps,\n  UpdateDataProps,\n} from \"../base_app_action\";\nimport { Keyword, SinaDatasetAppContext } from \"../SinaDataset\";\nimport DateRangeIcon from \"@material-ui/icons/DateRange\";\nimport React from \"react\";\nimport { DateRangePicker, DateRange } from \"materialui-daterange-picker\";\nimport moment from \"moment\";\nimport { ClickAwayListener } from \"@material-ui/core\";\nimport { DatasetAppContext } from \"../../home/SelectedAppContext\";\n\nexport class SinaDatePickerAction extends DatasetAppAction<\n  Keyword,\n  Keyword,\n  SinaDatasetAppContext\n> {\n  renderExtraComponent(\n    fetchData: FetchDataProps<Keyword, Keyword, SinaDatasetAppContext>,\n    updateData: UpdateDataProps<Keyword, Keyword>\n  ): JSX.Element | undefined {\n    return <DatePickerAction {...fetchData} {...updateData} />;\n  }\n\n  renderActionIcon(): JSX.Element {\n    return <DateRangeIcon />;\n  }\n\n  renderMenuItems(\n    fetchData: FetchDataProps<Keyword, Keyword, SinaDatasetAppContext>,\n    updateData: UpdateDataProps<Keyword, Keyword>\n  ): ContextMenuProps<Keyword, Keyword, SinaDatasetAppContext>[] {\n    return [\n      {\n        title: \"Show Date Picker\",\n        onClick: async () => {\n          //@ts-ignore\n          updateData.setOpenDatePicker(true);\n        },\n        onClose: async () => {},\n      },\n      {\n        title: \"Reset\",\n        onClick: async () => {\n          const result = await fetchData.fetchList();\n          if (result) {\n            updateData.setItems(result);\n          }\n        },\n        onClose: async () => {},\n      },\n    ];\n  }\n  getTitle(): string {\n    return \"Date Picker\";\n  }\n}\n\nfunction DatePickerAction(props: any) {\n  const { fetchList, setItems, openDatePicker, setOpenDatePicker } = props;\n  const [dateRange, setDateRange] = React.useState<DateRange>({});\n  const { setIsLoading } = React.useContext(DatasetAppContext);\n\n  const fetchDateInRange = async () => {\n    setOpenDatePicker(false);\n    setIsLoading(true);\n    if (dateRange.startDate && dateRange.endDate) {\n      let result = await fetchList({\n        start_time: moment(dateRange.startDate).format(\"YYYY-MM-DD\"),\n        end_time: moment(dateRange.endDate).format(\"YYYY-MM-DD\"),\n      });\n      if (result) {\n        setItems(result);\n      }\n    }\n    setIsLoading(false);\n  };\n\n  return (\n    <div style={{ position: \"absolute\", right: 20 }}>\n      <DateRangePicker\n        open={openDatePicker}\n        closeOnClickOutside={true}\n        toggle={() => fetchDateInRange()}\n        onChange={(d) => setDateRange(d)}\n      />\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport React from \"react\";\nimport {\n  DatasetApp,\n  DatasetAppContext,\n  DatasetAppDetailProps,\n  DatasetAppListProps,\n  DatasetAppMobileDetailProps,\n  ResponsivePath,\n} from \"./base_dataset_app\";\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\nimport SinaListDesktop from \"../sina/SinaListDesktop\";\nimport qs from \"qs\";\nimport SearchItem from \"../sina/SearchItem\";\nimport SinaListMobile from \"../sina/SinaListMobile\";\nimport SinaDetailsMobile from \"../sina/SinaDetailsMobile\";\nimport { SinaDatePickerAction } from \"./actions/SinaDetaPickerAction\";\nimport { DatasetAppAction } from \"./base_app_action\";\n\nexport interface Post {\n  id: number;\n  keyword: Keyword;\n  content: string;\n}\n\nexport interface Keyword {\n  id: string;\n  time: Date | any;\n  keyword: string;\n  numbers: number;\n  rank: number;\n  posts?: Post[];\n}\n\nexport interface SinaDatasetListProps\n  extends DatasetAppListProps<Keyword, Keyword, SinaDatasetAppContext> {}\n\nexport interface SinaDatasetDetailProps\n  extends DatasetAppDetailProps<Keyword> {}\n\nexport interface SinaDatasetMobileDetailProps\n  extends DatasetAppMobileDetailProps<Keyword> {}\n\nexport interface SinaDatasetAppContext extends DatasetAppContext<Keyword> {\n  selectedIndex?: string;\n  setSelectedIndex(index?: string): void;\n  detail?: Keyword;\n  setSelectedDetail(detail?: Keyword): void;\n  setOpenDatePicker(b: boolean): void;\n  openDatePicker: boolean;\n}\n\nconst SinaDatasetProvider = ({\n  children,\n  context,\n}: {\n  children: any;\n  context: any;\n}): JSX.Element => {\n  const [keywords, setKeywords] = React.useState<Keyword[]>([]);\n  const [selectedIndex, setSelectedIndex] = React.useState<string>();\n  const [detail, setSelectedDetail] = React.useState<Keyword>();\n  const [openDatePicker, setOpenDatePicker] = React.useState(false);\n\n  const value: SinaDatasetAppContext = {\n    items: keywords,\n    setItems: setKeywords,\n    selectedIndex,\n    setSelectedDetail,\n    detail,\n    setSelectedIndex,\n    openDatePicker,\n    setOpenDatePicker,\n  };\n\n  return <context.Provider value={value}>{children}</context.Provider>;\n};\n\nexport class SinaDatasetApp extends DatasetApp<\n  Keyword,\n  Keyword,\n  SinaDatasetAppContext\n> {\n  constructor() {\n    super();\n    //@ts-ignore\n    this.appContext = React.createContext<SinaDatasetAppContext>();\n  }\n\n  getAppProvider = ({ children }: { children: any }): JSX.Element => {\n    return (\n      <SinaDatasetProvider context={this.appContext}>\n        {children}\n      </SinaDatasetProvider>\n    );\n  };\n  getIcon(): JSX.Element {\n    return <TwitterIcon />;\n  }\n  isMatchPath(currentPath: string): boolean {\n    throw new Error(\"Method not implemented.\");\n  }\n  getPath(): string {\n    return \"/sina\";\n  }\n  getDetailPath(): ResponsivePath {\n    return {\n      desktop: \"/sina/:id?\",\n      mobile: \"/sina/:id\",\n    };\n  }\n  getFetchListURL(params?: { [keyword: string]: string }): string {\n    let baseURL =\n      \"https://z6msxm2nwd.execute-api.ap-southeast-1.amazonaws.com/dev/api/sina/keyword\";\n    if (params) {\n      let qss = qs.stringify(params);\n      return `${baseURL}?${qss}`;\n    }\n\n    return baseURL;\n  }\n  getFetchDetailURL(id: any, params?: { [keyword: string]: string }): string {\n    return this.getFetchListURL() + \"/\" + id + \"/\";\n  }\n  getTitle(): string {\n    return \"Sina Keyword\";\n  }\n  renderLists(): JSX.Element {\n    return (\n      <SinaListDesktop\n        fetchList={this.fetchList}\n        fetchNext={this.fetchNext}\n        hasNext={this.hasNext}\n        fetchDetail={this.fetchDetail}\n        //@ts-ignore\n        appContext={this.appContext!}\n      />\n    );\n  }\n\n  renderMobileLists = (): JSX.Element => {\n    return (\n      <SinaListMobile\n        fetchList={this.fetchList}\n        fetchNext={this.fetchNext}\n        hasNext={this.hasNext}\n        fetchDetail={this.fetchDetail}\n        //@ts-ignore\n        appContext={this.appContext!}\n      />\n    );\n  };\n\n  renderMobileDetail = (): JSX.Element => {\n    return <SinaDetailsMobile fetchDetail={this.fetchDetail} />;\n  };\n\n  search = async (keyword: string): Promise<Keyword[] | undefined> => {\n    let q = qs.stringify({ search: keyword });\n    let url = `${this.getFetchListURL()}?${q}`;\n    try {\n      let data = await axios.get(url);\n      return data.data.results;\n    } catch (err) {\n      window.alert(err);\n    }\n    return [];\n  };\n\n  renderSearchItem = (item: Keyword) => {\n    return <SearchItem keyword={item} />;\n  };\n\n  createActions = () => {\n    const datePicker = new SinaDatePickerAction();\n    return [datePicker];\n  };\n\n  renderActions = () => {\n    let actions = this.createActions();\n    let context = this.appContext!;\n\n    return (\n      <div>\n        <context.Consumer>\n          {(context) => (\n            <div>\n              {actions.map((a) =>\n                a.render(\n                  {\n                    fetchList: this.fetchList,\n                    fetchDetail: this.fetchDetail,\n                    fetchNext: this.fetchNext,\n                    //@ts-ignore\n                    appContext: this.appContext!,\n                  },\n                  context\n                )\n              )}\n            </div>\n          )}\n        </context.Consumer>\n      </div>\n    );\n  };\n}\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport AppView from \"./components/home/AppView\";\nimport { SinaDatasetApp } from \"./components/dataset_app/SinaDataset\";\n\nconst apps = [new SinaDatasetApp()];\n\nfunction App() {\n  return <AppView apps={apps} />;\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}