{"version":3,"sources":["config/config.tsx","components/home/SelectedAppContext.tsx","components/home/LeftDrawer.tsx","components/home/AppAppBar.tsx","components/home/AppBackdrop.tsx","components/home/AppView.tsx","components/dataset_app/base_dataset_app.tsx","components/sina/SinaDetailsDesktop.tsx","components/sina/SinaListDesktop.tsx","components/sina/SearchItem.tsx","components/sina/SinaListMobile.tsx","components/sina/SinaDetailsMobile.tsx","components/dataset_app/SinaDataset.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["config","DatasetAppContext","React","createContext","DatasetAppProvider","children","apps","location","useLocation","useState","undefined","selectedApp","setSelectedApp","anchorEl","setAnchorEl","isLoading","setIsLoading","searchResults","setResults","useEffect","foundApp","find","a","matchPath","pathname","path","getDetailPath","desktop","exact","Provider","value","useStyles","makeStyles","theme","createStyles","drawer","width","flexShrink","drawerPaper","LeftDrawer","props","history","useHistory","classes","useContext","Drawer","variant","className","paper","List","map","index","Tooltip","title","getTitle","ListItem","button","selected","onClick","push","getPath","ListItemIcon","getIcon","appBar","breakpoints","up","marginLeft","flexGrow","display","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","spacing","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","popper","maxHeight","overflow","zIndex","top","right","AppAppBar","showBackBtn","setShowBackBtn","showButton","match","Popper","open","style","Paper","length","s","i","renderSearchItem","AppBar","Toolbar","IconButton","Typography","noWrap","SearchBar","text","setText","ClickAwayListener","onClickAway","InputBase","placeholder","root","input","onChange","e","target","inputProps","currentTarget","onKeyDown","key","result","backdrop","AppBackdrop","Backdrop","CircularProgress","content","toolbar","mixins","darkTheme","createMuiTheme","type","primary","lightBlue","AppView","desktopBreakpoints","mobileBreakpoints","overflowY","ThemeProvider","CssBaseline","Hidden","only","implementation","getAppProvider","renderLists","renderMobileLists","mobile","renderMobileDetail","DatasetApp","nextURL","appContext","fetchList","url","getFetchListURL","axios","get","data","next","results","fetchNext","fetchDetail","identifier","getFetchDetailURL","hasNext","card","cardContent","SinaDetailsDesktop","cache","createCache","Card","CardHeader","keyword","subheader","numbers","rank","CardContent","posts","DetailItem","item","ListItemAvatar","ListItemText","replace","Divider","container","SinaListDesktop","params","useParams","setItems","keywords","items","setSelectedIndex","selectedIndex","detail","setSelectedDetail","then","v","finally","id","d","loadMore","useCallback","n","newKeywords","concat","selectKeyword","Grid","xs","md","itemCount","itemSize","ListItemRow","Fade","in","mountOnEnter","unmountOnExit","toString","secondary","moment","time","fromNow","SearchItem","SinaListMobile","SinaDetailsMobile","setData","Array","from","Skeleton","SinaDatasetProvider","context","setKeywords","q","qs","stringify","window","alert","currentPath","Error","this","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e340f285.chunk.js","sourcesContent":["export const config = {\n  drawerWidth: 60,\n};\n","import React from \"react\";\nimport { DatasetApp } from \"../dataset_app/base_dataset_app\";\nimport { useLocation } from \"react-router-dom\";\nimport { matchPath } from \"react-router\";\n\ninterface App {\n  selectedApp?: DatasetApp<any, any>;\n  isLoading: boolean;\n  anchorEl?: HTMLElement;\n  setAnchorEl(e?: HTMLElement): void;\n  setIsLoading(v: boolean): void;\n  searchResults: any[];\n  setResults(a: any[]): void;\n}\n\n//@ts-ignore\nexport const DatasetAppContext = React.createContext<App>({});\n\nexport function DatasetAppProvider({\n  children,\n  apps,\n}: {\n  children: any;\n  apps: DatasetApp<any, any>[];\n}) {\n  const location = useLocation();\n\n  const [selectedApp, setSelectedApp] =\n    React.useState<DatasetApp<any, any> | undefined>(undefined);\n  const [anchorEl, setAnchorEl] = React.useState<HTMLElement>();\n\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [searchResults, setResults] = React.useState<any[]>([]);\n\n  React.useEffect(() => {\n    let foundApp = apps.find((a) => {\n      const match = matchPath(location.pathname, {\n        path: a.getDetailPath().desktop,\n        exact: true,\n      });\n\n      return match !== null;\n    });\n    setSelectedApp(foundApp);\n  }, [location]);\n\n  return (\n    <DatasetAppContext.Provider\n      value={{\n        selectedApp: selectedApp,\n        isLoading,\n        setIsLoading,\n        anchorEl,\n        setAnchorEl,\n        searchResults,\n        setResults,\n      }}\n    >\n      {children}\n    </DatasetAppContext.Provider>\n  );\n}\n","import React from \"react\";\nimport { DatasetApp } from \"../dataset_app/base_dataset_app\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { createStyles, Drawer, makeStyles, Theme } from \"@material-ui/core\";\nimport { config } from \"../../config/config\";\nimport { List, ListItem, ListItemIcon, Tooltip } from \"@material-ui/core\";\nimport { DatasetAppContext } from \"./SelectedAppContext\";\nimport { matchPath } from \"react-router\";\n\ninterface Props {\n  apps: DatasetApp<any, any>[];\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    drawer: {\n      width: config.drawerWidth,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      width: config.drawerWidth,\n    },\n  })\n);\n\nexport default function LeftDrawer(props: Props) {\n  const location = useLocation();\n  const history = useHistory();\n  const classes = useStyles();\n  const { apps } = props;\n  const { selectedApp } = React.useContext(DatasetAppContext);\n\n  return (\n    <Drawer\n      variant=\"permanent\"\n      className={classes.drawer}\n      classes={{ paper: classes.drawerPaper }}\n    >\n      <List>\n        {apps.map((a, index) => (\n          <Tooltip title={a.getTitle()} key={a.getTitle()}>\n            <ListItem\n              button\n              selected={selectedApp === a}\n              onClick={() => {\n                history.push(a.getPath());\n              }}\n            >\n              <ListItemIcon>{a.getIcon()}</ListItemIcon>\n            </ListItem>\n          </Tooltip>\n        ))}\n      </List>\n    </Drawer>\n  );\n}\n","import {\n  ClickAwayListener,\n  createStyles,\n  IconButton,\n  InputBase,\n  List,\n  makeStyles,\n  Paper,\n  Popper,\n} from \"@material-ui/core\";\nimport { Theme } from \"@material-ui/core\";\nimport { AppBar, Toolbar, Typography } from \"@material-ui/core\";\nimport { fade } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport { config } from \"../../config/config\";\nimport { DatasetAppContext } from \"./SelectedAppContext\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { DatasetApp } from \"../dataset_app/base_dataset_app\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { matchPath } from \"react-router\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    appBar: {\n      [theme.breakpoints.up(\"md\")]: {\n        width: `calc(100% - ${config.drawerWidth}px)`,\n        marginLeft: config.drawerWidth,\n      },\n    },\n\n    title: {\n      flexGrow: 1,\n      display: \"none\",\n      [theme.breakpoints.up(\"sm\")]: {\n        display: \"block\",\n      },\n    },\n    search: {\n      position: \"relative\",\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.15),\n      \"&:hover\": {\n        backgroundColor: fade(theme.palette.common.white, 0.25),\n      },\n      marginLeft: 0,\n      width: \"100%\",\n      [theme.breakpoints.up(\"sm\")]: {\n        marginLeft: theme.spacing(1),\n        width: \"auto\",\n      },\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: \"100%\",\n      position: \"absolute\",\n      pointerEvents: \"none\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    inputRoot: {\n      color: \"inherit\",\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create(\"width\"),\n      width: \"100%\",\n      [theme.breakpoints.up(\"sm\")]: {\n        width: \"28ch\",\n        \"&:focus\": {\n          width: \"34ch\",\n        },\n      },\n    },\n    popper: {\n      width: \"50ch\",\n      maxHeight: 400,\n      overflow: \"auto\",\n      zIndex: 10000,\n      padding: 20,\n      position: \"absolute\",\n      top: 10,\n      right: -160,\n    },\n  })\n);\n\nexport default function AppAppBar() {\n  const classes = useStyles();\n  const location = useLocation();\n  const history = useHistory();\n\n  const { selectedApp, anchorEl, searchResults, setResults } =\n    React.useContext(DatasetAppContext);\n\n  const [showBackBtn, setShowBackBtn] = React.useState(true);\n\n  const showButton = () => {\n    let path = location.pathname;\n    if (selectedApp !== undefined) {\n      let match =\n        matchPath(selectedApp.getPath(), {\n          path: path,\n          exact: true,\n        }) === null;\n\n      if (match) {\n        setShowBackBtn(true);\n      } else {\n        setShowBackBtn(false);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    showButton();\n  }, []);\n\n  React.useEffect(() => {\n    showButton();\n  }, [location]);\n\n  return (\n    <div>\n      <Popper\n        open={anchorEl !== undefined}\n        anchorEl={anchorEl}\n        style={{ zIndex: 2000 }}\n      >\n        <Paper className={classes.popper} variant=\"outlined\">\n          <List>\n            {searchResults.length > 0 ? (\n              searchResults.map((s, i) => selectedApp?.renderSearchItem(s))\n            ) : (\n              <div>No Results</div>\n            )}\n          </List>\n        </Paper>\n      </Popper>\n      <AppBar className={classes.appBar}>\n        <Toolbar>\n          {showBackBtn && (\n            <IconButton\n              onClick={() => {\n                if (selectedApp) {\n                  history.push(selectedApp.getPath());\n                }\n              }}\n            >\n              <ArrowBackIosIcon />\n            </IconButton>\n          )}\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            {selectedApp?.getTitle() ?? \"Dataset App\"}\n          </Typography>\n          {selectedApp && <SearchBar />}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nfunction SearchBar() {\n  const classes = useStyles();\n  const [text, setText] = React.useState(\"\");\n\n  const { selectedApp, setAnchorEl, anchorEl, searchResults, setResults } =\n    React.useContext(DatasetAppContext);\n\n  return (\n    <ClickAwayListener onClickAway={() => setAnchorEl(undefined)}>\n      <div className={classes.search}>\n        <div className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          placeholder={`Search for ${selectedApp?.getTitle()}`}\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput,\n          }}\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n          inputProps={{ \"aria-label\": \"search\" }}\n          onClick={(e) => setAnchorEl(e.currentTarget)}\n          onKeyDown={async (e) => {\n            if (e.key === \"Enter\") {\n              if (text.length === 0) {\n                setResults([]);\n              } else {\n                let result = await selectedApp?.search(text);\n                if (result) {\n                  setResults(result);\n                }\n              }\n            }\n          }}\n        />\n      </div>\n    </ClickAwayListener>\n  );\n}\n","import {\n  Backdrop,\n  CircularProgress,\n  createMuiTheme,\n  createStyles,\n  CssBaseline,\n  makeStyles,\n  Theme,\n  ThemeProvider,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { config } from \"../../config/config\";\nimport { DatasetApp } from \"../dataset_app/base_dataset_app\";\nimport { Switch, HashRouter as Router, Route } from \"react-router-dom\";\nimport LeftDrawer from \"./LeftDrawer\";\nimport { AppBar } from \"@material-ui/core\";\nimport { Toolbar } from \"@material-ui/core\";\nimport { Typography } from \"@material-ui/core\";\nimport lightBlue from \"@material-ui/core/colors/lightBlue\";\nimport { DatasetAppContext, DatasetAppProvider } from \"./SelectedAppContext\";\nimport AppAppBar from \"./AppAppBar\";\n\ninterface Props {}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: \"#fff\",\n    },\n  })\n);\n\nexport default function AppBackdrop(props: Props) {\n  const classes = useStyles();\n  const { isLoading } = React.useContext(DatasetAppContext);\n\n  return (\n    <Backdrop open={isLoading} className={classes.backdrop}>\n      <CircularProgress />\n    </Backdrop>\n  );\n}\n","import {\n  createMuiTheme,\n  createStyles,\n  CssBaseline,\n  Hidden,\n  makeStyles,\n  Theme,\n  ThemeProvider,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { config } from \"../../config/config\";\nimport { DatasetApp } from \"../dataset_app/base_dataset_app\";\nimport { Switch, HashRouter as Router, Route } from \"react-router-dom\";\nimport LeftDrawer from \"./LeftDrawer\";\nimport { AppBar } from \"@material-ui/core\";\nimport { Toolbar } from \"@material-ui/core\";\nimport { Typography } from \"@material-ui/core\";\nimport lightBlue from \"@material-ui/core/colors/lightBlue\";\nimport { DatasetAppProvider } from \"./SelectedAppContext\";\nimport AppAppBar from \"./AppAppBar\";\nimport AppBackdrop from \"./AppBackdrop\";\nimport { Breakpoint } from \"@material-ui/core/styles/createBreakpoints\";\n\ninterface Props {\n  apps: DatasetApp<any, any>[];\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    content: {\n      [theme.breakpoints.up(\"md\")]: {\n        marginLeft: config.drawerWidth,\n        padding: theme.spacing(3),\n      },\n      marginTop: 50,\n      flexGrow: 1,\n\n      overflowY: \"hidden\",\n    },\n    toolbar: theme.mixins.toolbar,\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: \"#fff\",\n    },\n  })\n);\n\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: \"light\",\n    primary: lightBlue,\n  },\n});\n\nexport default function AppView(props: Props) {\n  const { apps } = props;\n  const classes = useStyles();\n  const desktopBreakpoints: Breakpoint[] = [\"xs\", \"sm\"];\n  const mobileBreakpoints: Breakpoint[] = [\"md\", \"lg\", \"xl\"];\n\n  return (\n    <div style={{ overflowY: \"hidden\" }}>\n      <ThemeProvider theme={darkTheme}>\n        <CssBaseline />\n        <Router>\n          <DatasetAppProvider apps={apps}>\n            <div>\n              <AppAppBar />\n              <AppBackdrop />\n              <Hidden only={desktopBreakpoints} implementation=\"css\">\n                <LeftDrawer apps={apps} />\n              </Hidden>\n\n              <div className={classes.content}>\n                <Switch>\n                  {apps.map((a, i) =>\n                    a.getAppProvider({\n                      children: (\n                        <div key={`path-${i}`}>\n                          <Hidden\n                            only={desktopBreakpoints}\n                            implementation=\"css\"\n                          >\n                            <Route path={a.getDetailPath().desktop} exact>\n                              {a.renderLists()}\n                            </Route>\n                          </Hidden>\n                          <Hidden only={mobileBreakpoints} implementation=\"css\">\n                            <Route path={a.getPath()} exact>\n                              {a.renderMobileLists()}\n                            </Route>\n                            <Route path={a.getDetailPath().mobile} exact>\n                              {a.renderMobileDetail()}\n                            </Route>\n                          </Hidden>\n                        </div>\n                      ),\n                    })\n                  )}\n                </Switch>\n              </div>\n            </div>\n          </DatasetAppProvider>\n        </Router>\n      </ThemeProvider>\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport React from \"react\";\n\nexport interface DatasetAppListProps<T, D, C> {\n  fetchList(): Promise<T[] | undefined>;\n  fetchNext(): Promise<T[] | undefined>;\n  hasNext(): boolean;\n  fetchDetail(identifier: any): Promise<D | undefined>;\n  appContext: React.Context<C>;\n}\n\nexport interface DatasetAppDetailProps<D> {\n  data: D;\n}\n\nexport interface DatasetAppMobileDetailProps<D> {\n  fetchDetail(identifier: any): Promise<D | undefined>;\n}\n\nexport interface DatasetAppContext<T> {\n  items: T[];\n  setItems(keywords: T[]): void;\n}\n\nexport interface ResponsivePath {\n  mobile: string;\n  desktop: string;\n}\n\nexport abstract class DatasetApp<T, D> {\n  abstract isMatchPath(currentPath: string): boolean;\n\n  nextURL?: string;\n  appContext?: React.Context<DatasetAppContext<T>>;\n\n  abstract getAppProvider({ children }: { children: any }): JSX.Element;\n\n  /**\n   * Get list's path\n   */\n  abstract getPath(): string;\n  /**\n   * Get detail's path\n   */\n  abstract getDetailPath(): ResponsivePath;\n  /**\n   * Get app's title\n   */\n\n  abstract getFetchListURL(params?: { [keyword: string]: string }): string;\n\n  abstract getFetchDetailURL(\n    id: any,\n    params?: { [keyword: string]: string }\n  ): string;\n\n  abstract getTitle(): string;\n\n  abstract getIcon(): JSX.Element;\n\n  /**\n   * Render desktop list's page\n   */\n  abstract renderLists(): JSX.Element;\n\n  /**\n   * Render mobile list page\n   */\n  abstract renderMobileLists(): JSX.Element;\n\n  /**\n   * Render Mobile Version Details\n   */\n  abstract renderMobileDetail(): JSX.Element;\n\n  /**\n   * Fetch list's info\n   */\n  fetchList = async (): Promise<T[] | undefined> => {\n    let url = this.getFetchListURL();\n    if (url === undefined) {\n      return undefined;\n    }\n    try {\n      let result = await axios.get(url);\n      this.nextURL = result.data.next;\n      return result.data.results;\n    } catch (err) {}\n  };\n\n  /**\n   * Fetch more info\n   */\n  fetchNext = async (): Promise<T[] | undefined> => {\n    if (this.nextURL === undefined) {\n      return undefined;\n    }\n\n    try {\n      let result = await axios.get(this.nextURL);\n      this.nextURL = result.data.next;\n      return result.data.results as T[];\n    } catch (err) {\n      //   window.alert(err);\n    }\n  };\n\n  /**\n   * Fetch detail\n   */\n  fetchDetail = async (identifier: any): Promise<D | undefined> => {\n    let url = this.getFetchDetailURL(identifier);\n    if (url === undefined) {\n      return undefined;\n    }\n\n    try {\n      let result = await axios.get(url);\n\n      return result.data as D;\n    } catch (err) {\n      //   window.alert(err);\n    }\n  };\n\n  hasNext = (): boolean => {\n    return this.nextURL !== undefined;\n  };\n\n  abstract search(keyword: string): Promise<T[] | undefined>;\n\n  abstract renderSearchItem(item: T): JSX.Element;\n}\n","import {\n  Card,\n  CardContent,\n  CardHeader,\n  createStyles,\n  Divider,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { Post, SinaDatasetDetailProps } from \"../dataset_app/SinaDataset\";\nimport DynamicList, { createCache } from \"react-window-dynamic-list\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    card: {\n      height: `90vh`,\n      overflowY: \"hidden\",\n    },\n    cardContent: {\n      overflowY: \"scroll\",\n      height: \"100%\",\n    },\n  })\n);\n\nexport default function SinaDetailsDesktop(props: SinaDatasetDetailProps) {\n  const { data } = props;\n  const classes = useStyles();\n  const cache = createCache();\n\n  return (\n    <Card variant=\"outlined\" className={classes.card}>\n      <CardHeader\n        title={data.keyword}\n        subheader={`Count: ${data.numbers}      |     Rank: ${data.rank}`}\n      />\n      <CardContent className={classes.cardContent}>\n        <AutoSizer>\n          {({ height, width }) => (\n            <DynamicList\n              height={height}\n              width={width}\n              cache={cache}\n              data={data.posts ?? []}\n            >\n              {({ index, style }) => (\n                <DetailItem\n                  index={index}\n                  style={style}\n                  item={data.posts ? data.posts[index] : undefined}\n                />\n              )}\n            </DynamicList>\n          )}\n        </AutoSizer>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport function DetailItem(props: { item?: Post; index: number; style: any }) {\n  const { item, index, style } = props;\n\n  return (\n    <div key={`post-${index}`} style={style}>\n      <ListItem button>\n        <ListItemAvatar>\n          <div>{index + 1}</div>\n        </ListItemAvatar>\n        <ListItemText\n          primary={item?.content\n            .replace(\"收起全文d\", \"\")\n            .replace(\"展开全文c\", \"……\")\n            .replace(\"L\", \"\")\n            .replace(\"\", \"\")}\n        />\n      </ListItem>\n      <Divider />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Keyword, SinaDatasetListProps } from \"../dataset_app/SinaDataset\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport {\n  Card,\n  CardHeader,\n  createStyles,\n  Fade,\n  Grid,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport { FixedSizeList as List, ListChildComponentProps } from \"react-window\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport moment from \"moment\";\nimport { DatasetAppContext } from \"../home/SelectedAppContext\";\nimport SinaDetailsDesktop from \"./SinaDetailsDesktop\";\n\ninterface RowProps {\n  keyword?: Keyword;\n  style: any;\n  selectedIndex?: string;\n  loadMore(): Promise<void>;\n  selectKeyword(keyword: Keyword): Promise<void>;\n  index: number;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {},\n    card: {\n      height: `90vh`,\n    },\n  })\n);\n\nexport default function SinaListDesktop(props: SinaDatasetListProps) {\n  const { fetchList, fetchNext, hasNext, fetchDetail, appContext } = props;\n\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const params = useParams<{ id?: string }>();\n\n  const { setIsLoading } = React.useContext(DatasetAppContext);\n  const {\n    setItems,\n    items: keywords,\n    setSelectedIndex,\n    selectedIndex,\n    detail,\n    setSelectedDetail,\n  } = React.useContext(appContext);\n\n  React.useEffect(() => {\n    setIsLoading(true);\n    fetchList()\n      .then((v) => {\n        if (v) {\n          setItems(v);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    setSelectedIndex(params.id ? params.id : undefined);\n    if (params.id) {\n      setIsLoading(true);\n      fetchDetail(params.id)\n        .then((d) => {\n          setSelectedDetail(d);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    } else {\n      setSelectedDetail(undefined);\n    }\n  }, [location]);\n\n  const loadMore = React.useCallback(async () => {\n    setIsLoading(true);\n    let n = await fetchNext();\n    setIsLoading(false);\n    if (n) {\n      let newKeywords = keywords.concat(n);\n      setItems(newKeywords);\n    }\n  }, [keywords]);\n\n  const selectKeyword = React.useCallback(\n    async (keyword: Keyword) => {\n      history.push({\n        pathname: \"/sina/\" + keyword.id,\n      });\n    },\n    [keywords]\n  );\n\n  return (\n    <Grid container className={classes.container} spacing={2}>\n      <Grid item xs={12} md={4}>\n        <Card className={classes.card} variant=\"outlined\">\n          {/* <CardHeader title=\"Keywords\" /> */}\n          <AutoSizer>\n            {({ height, width }) => (\n              <List\n                height={height}\n                itemCount={hasNext() ? keywords?.length + 1 : keywords?.length}\n                width={width}\n                itemSize={70}\n              >\n                {({ index, style }) => (\n                  <ListItemRow\n                    selectedIndex={selectedIndex}\n                    selectKeyword={selectKeyword}\n                    keyword={\n                      index < keywords.length ? keywords[index] : undefined\n                    }\n                    style={style}\n                    loadMore={loadMore}\n                    index={index}\n                  />\n                )}\n              </List>\n            )}\n          </AutoSizer>\n        </Card>\n      </Grid>\n      <Fade in={detail !== undefined} mountOnEnter unmountOnExit>\n        <Grid item xs={12} md={8}>\n          {detail && <SinaDetailsDesktop data={detail} />}\n        </Grid>\n      </Fade>\n    </Grid>\n  );\n}\n\nexport function ListItemRow(props: RowProps) {\n  const { keyword, style, loadMore, selectKeyword, selectedIndex, index } =\n    props;\n\n  return keyword !== undefined ? (\n    <ListItem\n      style={style}\n      button\n      selected={keyword.id.toString() === selectedIndex}\n      onClick={() => selectKeyword(keyword)}\n    >\n      <ListItemText\n        primary={`${keyword.keyword}`}\n        secondary={moment(keyword.time).fromNow()}\n      />\n    </ListItem>\n  ) : (\n    <ListItem style={style} button onClick={loadMore}>\n      <ListItemText primary={`Load More`} />\n    </ListItem>\n  );\n}\n","import React from \"react\";\nimport { Keyword } from \"../dataset_app/SinaDataset\";\nimport { useHistory } from \"react-router-dom\";\nimport { Divider, ListItem, ListItemText } from \"@material-ui/core\";\nimport moment from \"moment\";\n\ninterface SearchProps {\n  keyword: Keyword;\n}\n\nexport default function SearchItem(props: SearchProps) {\n  const { keyword } = props;\n  const history = useHistory();\n\n  return (\n    <div>\n      <ListItem\n        button\n        onClick={() => {\n          history.push(`/sina/${keyword.id}`);\n        }}\n      >\n        <ListItemText\n          primary={keyword.keyword}\n          secondary={moment(keyword.time).fromNow()}\n        />\n      </ListItem>\n      <Divider />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Keyword, SinaDatasetListProps } from \"../dataset_app/SinaDataset\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport {\n  Card,\n  CardHeader,\n  createStyles,\n  Fade,\n  Grid,\n  ListItem,\n  ListItemText,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport { FixedSizeList as List, ListChildComponentProps } from \"react-window\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport moment from \"moment\";\nimport { ListItemRow } from \"./SinaListDesktop\";\nimport { DatasetAppContext } from \"../home/SelectedAppContext\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      height: `95vh`,\n    },\n  })\n);\n\nexport default function SinaListMobile(props: SinaDatasetListProps) {\n  const { fetchList, fetchNext, hasNext, fetchDetail, appContext } = props;\n\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const params = useParams<{ id?: string }>();\n\n  const { setIsLoading } = React.useContext(DatasetAppContext);\n  const {\n    setItems,\n    items: keywords,\n    setSelectedIndex,\n    selectedIndex,\n    detail,\n    setSelectedDetail,\n  } = React.useContext(appContext);\n\n  React.useEffect(() => {\n    setIsLoading(true);\n    fetchList()\n      .then((v) => {\n        if (v) {\n          setItems(v);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    setSelectedIndex(params.id ? params.id : undefined);\n    if (params.id) {\n      setIsLoading(true);\n      fetchDetail(params.id)\n        .then((d) => {\n          setSelectedDetail(d);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    } else {\n      setSelectedDetail(undefined);\n    }\n  }, [location]);\n\n  const loadMore = React.useCallback(async () => {\n    setIsLoading(true);\n    let n = await fetchNext();\n    setIsLoading(false);\n    if (n) {\n      let newKeywords = keywords.concat(n);\n      setItems(newKeywords);\n    }\n  }, [keywords]);\n\n  const selectKeyword = React.useCallback(\n    async (keyword: Keyword) => {\n      history.push({\n        pathname: \"/sina/\" + keyword.id,\n      });\n    },\n    [keywords]\n  );\n\n  return (\n    <div className={classes.container}>\n      <AutoSizer>\n        {({ height, width }) => (\n          <List\n            height={height}\n            itemCount={hasNext() ? keywords?.length + 1 : keywords?.length}\n            width={width}\n            itemSize={70}\n          >\n            {({ index, style }) => (\n              <ListItemRow\n                selectedIndex={selectedIndex}\n                selectKeyword={selectKeyword}\n                keyword={index < keywords.length ? keywords[index] : undefined}\n                style={style}\n                loadMore={loadMore}\n                index={index}\n              />\n            )}\n          </List>\n        )}\n      </AutoSizer>\n    </div>\n  );\n}\n","import {\n  Card,\n  CardContent,\n  CardHeader,\n  createStyles,\n  Divider,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport {\n  Keyword,\n  SinaDatasetMobileDetailProps,\n} from \"../dataset_app/SinaDataset\";\nimport DynamicList, { createCache } from \"react-window-dynamic-list\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport { DetailItem } from \"./SinaDetailsDesktop\";\nimport { DatasetAppContext } from \"../home/SelectedAppContext\";\nimport { useLocation, useParams } from \"react-router\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    card: {\n      height: \"95vh\",\n\n      overflowY: \"hidden\",\n    },\n    cardContent: {\n      overflowY: \"scroll\",\n      height: \"100%\",\n    },\n  })\n);\n\nexport default function SinaDetailsMobile(props: SinaDatasetMobileDetailProps) {\n  const classes = useStyles();\n  const cache = createCache();\n  const location = useLocation();\n  const params = useParams<{ id?: string }>();\n  const [data, setData] = React.useState<Keyword>();\n  const { setIsLoading } = React.useContext(DatasetAppContext);\n\n  React.useEffect(() => {\n    if (params.id) {\n      let id = params.id;\n      setIsLoading(true);\n      props\n        .fetchDetail(id)\n        .then((v) => {\n          setData(v);\n        })\n        .finally(() => setIsLoading(false));\n    }\n  }, [params]);\n\n  return data !== undefined ? (\n    <div className={classes.card}>\n      <CardHeader\n        title={data.keyword}\n        subheader={`Count: ${data.numbers}      |     Rank: ${data.rank}`}\n      />\n      <div className={classes.cardContent}>\n        <AutoSizer>\n          {({ height, width }) => (\n            <DynamicList\n              height={height}\n              width={width}\n              cache={cache}\n              data={data.posts ?? []}\n            >\n              {({ index, style }) => (\n                <DetailItem\n                  index={index}\n                  style={style}\n                  item={data.posts ? data.posts[index] : undefined}\n                />\n              )}\n            </DynamicList>\n          )}\n        </AutoSizer>\n      </div>\n    </div>\n  ) : (\n    <div style={{ overflowY: \"hidden\" }}>\n      {Array.from(new Array(22)).map(() => (\n        <div>\n          <Skeleton height={40} />\n        </div>\n      ))}\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport React from \"react\";\nimport {\n  DatasetApp,\n  DatasetAppContext,\n  DatasetAppDetailProps,\n  DatasetAppListProps,\n  DatasetAppMobileDetailProps,\n  ResponsivePath,\n} from \"./base_dataset_app\";\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\nimport SinaListDesktop from \"../sina/SinaListDesktop\";\nimport qs from \"qs\";\nimport SearchItem from \"../sina/SearchItem\";\nimport SinaListMobile from \"../sina/SinaListMobile\";\nimport SinaDetailsMobile from \"../sina/SinaDetailsMobile\";\n\nexport interface Post {\n  id: number;\n  keyword: Keyword;\n  content: string;\n}\n\nexport interface Keyword {\n  id: string;\n  time: Date | any;\n  keyword: string;\n  numbers: number;\n  rank: number;\n  posts?: Post[];\n}\n\nexport interface SinaDatasetListProps\n  extends DatasetAppListProps<Keyword, Keyword, SinaDatasetAppContext> {}\n\nexport interface SinaDatasetDetailProps\n  extends DatasetAppDetailProps<Keyword> {}\n\nexport interface SinaDatasetMobileDetailProps\n  extends DatasetAppMobileDetailProps<Keyword> {}\n\nexport interface SinaDatasetAppContext extends DatasetAppContext<Keyword> {\n  selectedIndex?: string;\n  setSelectedIndex(index?: string): void;\n  detail?: Keyword;\n  setSelectedDetail(detail?: Keyword): void;\n}\n\nconst SinaDatasetProvider = ({\n  children,\n  context,\n}: {\n  children: any;\n  context: any;\n}): JSX.Element => {\n  const [keywords, setKeywords] = React.useState<Keyword[]>([]);\n  const [selectedIndex, setSelectedIndex] = React.useState<string>();\n  const [detail, setSelectedDetail] = React.useState<Keyword>();\n\n  const value: SinaDatasetAppContext = {\n    items: keywords,\n    setItems: setKeywords,\n    selectedIndex,\n    setSelectedDetail,\n    detail,\n    setSelectedIndex,\n  };\n\n  return <context.Provider value={value}>{children}</context.Provider>;\n};\n\nexport class SinaDatasetApp extends DatasetApp<Keyword, Keyword> {\n  constructor() {\n    super();\n    //@ts-ignore\n    this.appContext = React.createContext<SinaDatasetAppContext>();\n  }\n\n  getAppProvider = ({ children }: { children: any }): JSX.Element => {\n    return (\n      <SinaDatasetProvider context={this.appContext}>\n        {children}\n      </SinaDatasetProvider>\n    );\n  };\n  getIcon(): JSX.Element {\n    return <TwitterIcon />;\n  }\n  isMatchPath(currentPath: string): boolean {\n    throw new Error(\"Method not implemented.\");\n  }\n  getPath(): string {\n    return \"/sina\";\n  }\n  getDetailPath(): ResponsivePath {\n    return {\n      desktop: \"/sina/:id?\",\n      mobile: \"/sina/:id\",\n    };\n  }\n  getFetchListURL(params?: { [keyword: string]: string }): string {\n    return \"https://z6msxm2nwd.execute-api.ap-southeast-1.amazonaws.com/dev/api/sina/keyword/\";\n  }\n  getFetchDetailURL(id: any, params?: { [keyword: string]: string }): string {\n    return this.getFetchListURL() + id + \"/\";\n  }\n  getTitle(): string {\n    return \"Sina Keyword\";\n  }\n  renderLists(): JSX.Element {\n    return (\n      <SinaListDesktop\n        fetchList={this.fetchList}\n        fetchNext={this.fetchNext}\n        hasNext={this.hasNext}\n        fetchDetail={this.fetchDetail}\n        //@ts-ignore\n        appContext={this.appContext!}\n      />\n    );\n  }\n\n  renderMobileLists = (): JSX.Element => {\n    return (\n      <SinaListMobile\n        fetchList={this.fetchList}\n        fetchNext={this.fetchNext}\n        hasNext={this.hasNext}\n        fetchDetail={this.fetchDetail}\n        //@ts-ignore\n        appContext={this.appContext!}\n      />\n    );\n  };\n\n  renderMobileDetail = (): JSX.Element => {\n    return <SinaDetailsMobile fetchDetail={this.fetchDetail} />;\n  };\n\n  search = async (keyword: string): Promise<Keyword[] | undefined> => {\n    let q = qs.stringify({ search: keyword });\n    let url = `${this.getFetchListURL()}?${q}`;\n    try {\n      let data = await axios.get(url);\n      return data.data.results;\n    } catch (err) {\n      window.alert(err);\n    }\n    return [];\n  };\n\n  renderSearchItem = (item: Keyword) => {\n    return <SearchItem keyword={item} />;\n  };\n}\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport AppView from \"./components/home/AppView\";\nimport { SinaDatasetApp } from \"./components/dataset_app/SinaDataset\";\n\nconst apps = [new SinaDatasetApp()];\n\nfunction App() {\n  return <AppView apps={apps} />;\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}